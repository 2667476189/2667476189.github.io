---
title: 各种定宽自适应布局方式
date: 2020-08-26 12:00:52
tags: 
  - CSS
---
传统浮动实现定宽自适应布局较为复杂，请直接查看页面html代码。对于CSS3的flex布局，则比较简单。
<!--more-->
## 布局方法

1.父元素

在父元素上设定

```css
.father{
  display:flex;
}
```

2.对于固定宽度的元素
在固定宽度元素上设置

```css
.son{
  flex:none;
  width:100px;/*此处设置固定宽度*/
}
```

3.对于不固定宽度的元素
在不固定宽度的元素上设置

```css
.son{
  flex:1 0 auto;
}
```

## 更多技巧

css3中**flex**属性一项的三个值分别代表**flex-grow**, **flex-shrink** 和 **flex-basis**三个属性，通过具体的设置这三个属性的值，可以实现更灵活的自适应方案。
>参考文章
>[Flex 布局教程：语法篇--阮一峰](http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html)
>[学习CSS布局:flexbox---learnlayout网](http://zh.learnlayout.com/flexbox.html)

## 代码示例

{% raw %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  拖动滑块改变容器宽度
  <input type="range" min="30" max="100" />
  <div class="wrap-1 wrap">
    <div class="left-1">左</div>
    <div class="right-1">右</div>
    <span>左侧定宽，右侧自适应</span>
  </div>

  <div class="wrap-2 wrap">
    <div class="right-2">右</div>
    <div class="left-2">左</div>
    <span>右侧定宽，左侧自适应(dom相反版)</span>
  </div>

  <div class="wrap-3 wrap">
    <div class="left-3">左</div>
    <div class="center-3">中</div>
    <div class="right-3">右</div>
    <span>左中定宽，右侧自适应</span>
  </div>

  <div class="wrap-4 wrap">
    <div class="center-4">
      <div class="center-4-content">中</div>
    </div>
    <div class="left-4">左</div>
    <div class="right-4">右</div>
    <span>左右定宽，中间自适应(dom结构为中左右)</span>
  </div>

  <h2>CSS3flex实现上面的布局</h2>
  <div class="wrap">
    <div class="wrap-5 flex">
      <div class="left-5">左</div>
      <div class="right-5">右</div>
    </div>
    <span>左侧定宽，右侧自适应</span>
  </div>

  <div class="wrap">
    <div class="wrap-6 flex">
      <div class="left-6">左</div>
      <div class="right-6">右</div>
    </div>
    <span>右侧定宽，左侧自适应(dom顺序正确)</span>
  </div>

  <div class="wrap">
    <div class="wrap-7 flex">
      <div class="left-7">左</div>
      <div class="center-7">中</div>
      <div class="right-7">右</div>
    </div>
    <span>左中定宽，右侧自适应</span>
  </div>

  <div class="wrap">
    <div class="wrap-8 flex">
      <div class="left-8">左</div>
      <div class="center-8">中</div>
      <div class="right-8">右</div>
    </div>
    <span>左右定宽，中间自适应</span>
  </div>
</body>
<script>
  let wraps = document.querySelectorAll('.wrap')
  let input = document.querySelector('input')
  input.addEventListener('input', e => {
    wraps.forEach(e => {
      e.style.width = `${input.value}%`
    })
  })
</script>
<style>
  .flex {
    display: flex;
  }

  .wrap {
    margin: 0 auto;
    min-width: 250px;
    /*避免布局错乱*/
    margin-top: 5px;
    width: 100%;
    border: 1px solid red;
  }

  .left-1 {
    width: 100px;
    float: left;
    background-color: antiquewhite;
  }

  .right-1 {
    margin-left: 100px;
    /*必加,否则浮动不在文档流中会将其挡住*/
    background-color: blueviolet;
  }


  .left-2 {
    overflow: hidden;
    background-color: antiquewhite;
  }

  .right-2 {
    float: right;
    width: 100px;
    background-color: blueviolet;
  }

  .left-3 {
    float: left;
    width: 100px;
    background-color: antiquewhite;
  }

  .center-3 {
    float: left;
    width: 100px;
    background-color: blueviolet;
  }

  .right-3 {
    margin-left: 200px;
    background-color: brown;
  }

  .left-4 {
    float: left;
    width: 100px;
    margin-left: -100%;
    /*左侧无需计算，直接缩到尽头*/
    background-color: antiquewhite;
  }

  .center-4 {
    float: left;
    width: 100%;
    background-color: blueviolet;
  }

  .center-4-content {
    /*中间部分多嵌套一层是为了能够露出内容*/
    margin: 0 100px;
    /*左右边距控制为左右的定宽，不一样的话可以单独设置*/
  }

  .right-4 {
    float: left;
    width: 100px;
    margin-left: -100px;
    /*和width保持一致*/
    background-color: brown;
  }

  .left-5 {
    background-color: antiquewhite;
    flex: none;
    width: 100px;
  }

  .right-5 {
    flex: 1 0 auto;
    background-color: blueviolet;
  }

  .left-6 {
    flex: 1 0 auto;
    background-color: antiquewhite;
  }

  .right-6 {
    flex: none;
    width: 100px;
    background-color: blueviolet;
  }

  .left-7 {
    flex: none;
    width: 100px;
    background-color: antiquewhite;
  }

  .center-7 {
    flex: none;
    width: 100px;
    background-color: blueviolet;
  }

  .right-7 {
    flex:1 0 auto;
    background-color: brown;
  }

  .left-8 {
    flex: none;
    width: 100px;
    background-color: antiquewhite;
  }

  .center-8 {
    flex: 1 0 auto;
    background-color: blueviolet;
  }

  .right-8 {
    flex: none;
    width: 100px;
    background-color: brown;
  }
</style>

</html>
{% endraw %}
